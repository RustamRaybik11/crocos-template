(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[459],{3700:function(n,e,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/login",function(){return t(8711)}])},394:function(n,e,t){"use strict";var i=t(5893);t(7294);var s=t(4184),o=t.n(s);let r=n=>{let{children:e,className:t}=n;return(0,i.jsx)("div",{className:o()("form__block--input",t),children:e})};e.Z=r},4585:function(n,e,t){"use strict";var i=t(5893);t(7294);var s=t(7267),o=t.n(s),r=t(4184),c=t.n(r);let l=n=>{let{children:e}=n;return e?(0,i.jsx)("small",{className:c()(o().error),children:e}):null};e.Z=l},9002:function(n,e,t){"use strict";t.d(e,{Z:function(){return h}});var i=t(5893);t(7294);var s=t(4184),o=t.n(s),r=t(9942),c=t.n(r),l=t(6627),u=t.n(l);let a=n=>{let{fill:e="#0F85EE"}=n;return(0,i.jsxs)("svg",{width:"18",height:"18",viewBox:"0 0 18 18",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,i.jsx)("path",{d:"M1.5 9C1.5 9 3.75 3.75 9 3.75C14.25 3.75 16.5 9 16.5 9C16.5 9 14.25 14.25 9 14.25C3.75 14.25 1.5 9 1.5 9Z",stroke:e,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),(0,i.jsx)("path",{d:"M9 11.25C10.2426 11.25 11.25 10.2426 11.25 9C11.25 7.75736 10.2426 6.75 9 6.75C7.75736 6.75 6.75 7.75736 6.75 9C6.75 10.2426 7.75736 11.25 9 11.25Z",stroke:e,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})]})},d=()=>(0,i.jsxs)("svg",{width:"57",height:"57",viewBox:"0 0 57 57",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,i.jsx)("path",{d:"M42.4086 42.4086C38.4319 45.4399 33.5896 47.1192 28.59 47.2009C12.3055 47.2009 3 28.59 3 28.59C5.89374 23.1972 9.90729 18.4857 14.7714 14.7714M23.7046 10.5374C25.3059 10.1626 26.9454 9.97523 28.59 9.97909C44.8745 9.97909 54.18 28.59 54.18 28.59C52.7678 31.2318 51.0837 33.719 49.1551 36.0111M33.5219 33.5219C32.883 34.2076 32.1125 34.7576 31.2564 35.139C30.4003 35.5204 29.4761 35.7256 28.539 35.7421C27.6019 35.7586 26.6711 35.5862 25.8021 35.2352C24.9331 34.8842 24.1437 34.3618 23.4809 33.6991C22.8182 33.0363 22.2958 32.2469 21.9448 31.3779C21.5938 30.5089 21.4214 29.5781 21.4379 28.641C21.4544 27.7039 21.6595 26.7797 22.041 25.9236C22.4224 25.0675 22.9724 24.297 23.6581 23.6581",stroke:"black",strokeWidth:"4.65273",strokeLinecap:"round",strokeLinejoin:"round"}),(0,i.jsx)("path",{d:"M3 3L54.18 54.18",stroke:"black",strokeWidth:"4.65273",strokeLinecap:"round",strokeLinejoin:"round"})]}),p=n=>{let{className:e,type:t,code:s=!1,register:r,name:l,iconLeft:p,iconRight:h,onChange:_,ref:g,onBlur:v,icon:m,iconBg:x,defaultPhone:f,underline:j,rounded:k,checkbox:w,changeType:C,...L}=n;return(0,i.jsxs)("div",{className:o()(c().inputGroup,{[c().inputGroupLeft]:p}),style:w?{height:20}:{},children:[p&&(0,i.jsx)("span",{className:x?c().inputIconBg:"",children:p}),"phone"!==t&&"password"!==t&&!1===s&&(0,i.jsx)("input",{type:t||"text",name:l||(null==r?void 0:r.name),className:"".concat(j?o()(c().input_underline,c().input,e,{[c().inputIcon]:p||h,[c().inputIconLeft]:p,[c().inputIconRight]:h}):o()(c().input,e,{[c().inputIcon]:p||h,[c().inputIconLeft]:p,[c().inputIconRight]:h}),"\n          ").concat(k?o()(c().input_rounded,c().input,e,{[c().inputIcon]:p||h,[c().inputIconLeft]:p,[c().inputIconRight]:h}):o()(c().input,e,{[c().inputIcon]:p||h,[c().inputIconLeft]:p,[c().inputIconRight]:h}),"\n              ").concat(w?o()(c().input_checkbox):""),ref:g||(null==r?void 0:r.ref),onChange:_||(null==r?void 0:r.onChange),onBlur:v||(null==r?void 0:r.onBlur),...L}),m||null,"password"===t&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("input",{type:t,name:l||(null==r?void 0:r.name),className:"".concat(j?o()(c().input_underline,c().input,e,{[c().inputIcon]:p||h,[c().inputIconLeft]:p,[c().inputIconRight]:h}):o()(c().input,e,{[c().inputIcon]:p||h,[c().inputIconLeft]:p,[c().inputIconRight]:h}),"\n            ").concat(k?o()(c().input_rounded,c().input,e,{[c().inputIcon]:p||h,[c().inputIconLeft]:p,[c().inputIconRight]:h}):o()(c().input,e,{[c().inputIcon]:p||h,[c().inputIconLeft]:p,[c().inputIconRight]:h}),"\n                ").concat(w?o()(c().input_checkbox):""),ref:g||(null==r?void 0:r.ref),onChange:_||(null==r?void 0:r.onChange),onBlur:v||(null==r?void 0:r.onBlur),...L}),(0,i.jsx)("div",{className:"".concat(c().iconRightPass,' pointer"'),onClick:()=>C("text"),children:(0,i.jsx)(a,{})})]}),null!=h?h:null,C&&"password"!==t?(0,i.jsx)("div",{className:"".concat(c().iconRightPass," pointer input-icon"),onClick:()=>C("password"),children:(0,i.jsx)(d,{})}):null,"phone"===t&&(0,i.jsx)(u(),{name:l||(null==r?void 0:r.name),onChange:null==r?void 0:r.onChange,onBlur:null==r?void 0:r.onBlur,mask:"+7 (999) 999 99 99",alwaysShowMask:!0,className:"".concat(j?o()(c().input_underline,c().input,e,{[c().inputIcon]:m}):o()(c().input,e,{[c().inputIcon]:m}),"\n              ").concat(w?o()(c().input_checkbox):""),ref:null==r?void 0:r.ref,...L})]})};var h=p},5113:function(n,e,t){"use strict";t.d(e,{U:function(){return o},p:function(){return s}});var i=t(6310);let s=i.Ry().shape({iin:i.Z_().typeError("only_numbers").length(12,"twelve_symbols").required("must_be"),password:i.Z_().required("must_be")}),o=i.Ry().shape({iin:i.Z_().typeError("only_numbers").length(12,"twelve_symbols").required("must_be"),email:i.Z_().max(255).email("invalid_email").required("must_be")})},8824:function(n,e,t){"use strict";t.d(e,{t:function(){return s}});var i=t(7294);function s(n,e){(0,i.useEffect)(()=>{let t=t=>{!n.current||n.current.contains(t.target)||e(t)};return document.addEventListener("mousedown",t),document.addEventListener("touchstart",t),()=>{document.removeEventListener("mousedown",t),document.removeEventListener("touchstart",t)}},[n,e])}},7094:function(n,e,t){"use strict";var i=t(5893);t(7294),e.Z=function(){return(0,i.jsx)("svg",{width:"18",height:"18",viewBox:"0 0 18 18",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,i.jsx)("path",{d:"M4.5 6.75L9 11.25L13.5 6.75",stroke:"#0F85EE",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})}},6250:function(n,e,t){"use strict";var i=t(5893);t(7294);let s=()=>(0,i.jsxs)("svg",{width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,i.jsx)("path",{d:"M11.6666 12.25V11.0833C11.6666 10.4645 11.4208 9.871 10.9832 9.43342C10.5456 8.99583 9.95209 8.75 9.33325 8.75H4.66659C4.04775 8.75 3.45425 8.99583 3.01667 9.43342C2.57908 9.871 2.33325 10.4645 2.33325 11.0833V12.25",stroke:"white",strokeLinecap:"round",strokeLinejoin:"round"}),(0,i.jsx)("path",{d:"M7.00008 6.41667C8.28875 6.41667 9.33341 5.372 9.33341 4.08333C9.33341 2.79467 8.28875 1.75 7.00008 1.75C5.71142 1.75 4.66675 2.79467 4.66675 4.08333C4.66675 5.372 5.71142 6.41667 7.00008 6.41667Z",stroke:"white",strokeLinecap:"round",strokeLinejoin:"round"})]});e.Z=s},1125:function(n,e,t){"use strict";t.d(e,{SY:function(){return r},Vw:function(){return o}}),t(1163);var i=t(5678);let s=(n,e,t)=>{!e||"object"!=typeof e||e instanceof Date||e instanceof File?n.append(t,null==e?"":e):Object.keys(e).forEach(i=>{s(n,e[i],t?"".concat(t,"[").concat(i,"]"):i)})},o=n=>{i.Am.error(n,{position:"bottom-right",autoClose:4e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0})},r=n=>{i.Am.success(n,{position:"bottom-right",autoClose:4e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0})}},8711:function(n,e,t){"use strict";t.r(e),t.d(e,{__N_SSP:function(){return Z},default:function(){return B}});var i=t(5893),s=t(7294),o=t(1664),r=t.n(o),c=t(7536),l=t(394),u=t(9002),a=t(2323),d=t(1125),p=t(7533),h=t(5113),_=t(4585),g=t(9918),v=t(6117),m=t(1163),x=t(6250);let f=()=>(0,i.jsxs)("svg",{width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,i.jsx)("path",{d:"M11.0833 6.41663H2.91667C2.27233 6.41663 1.75 6.93896 1.75 7.58329V11.6666C1.75 12.311 2.27233 12.8333 2.91667 12.8333H11.0833C11.7277 12.8333 12.25 12.311 12.25 11.6666V7.58329C12.25 6.93896 11.7277 6.41663 11.0833 6.41663Z",stroke:"white",strokeLinecap:"round",strokeLinejoin:"round"}),(0,i.jsx)("path",{d:"M4.08325 6.41663V4.08329C4.08325 3.30974 4.39054 2.56788 4.93752 2.0209C5.48451 1.47392 6.22637 1.16663 6.99992 1.16663C7.77347 1.16663 8.51533 1.47392 9.06231 2.0209C9.60929 2.56788 9.91659 3.30974 9.91659 4.08329V6.41663",stroke:"white",strokeLinecap:"round",strokeLinejoin:"round"})]});var j=t(2283),k=t(8111),w=t(374);let C=n=>{let{register:e,name:t,control:s,label:o,value:r}=n;return(0,i.jsx)(i.Fragment,{children:(0,i.jsx)(k.Z,{control:(0,i.jsx)(c.Qr,{name:t||e.name,control:s,render:n=>{let{field:t}=n;return(0,i.jsx)(w.Z,{...t,ref:e.ref,checked:t.value,value:r,onChange:n=>t.onChange(n.target.checked)})}}),label:o})})};var L=t(7094),b=t(8824);let I=()=>{var n,e,t,o;let{t:k,i18n:w}=(0,j.$G)(),[I,y]=(0,s.useState)("password"),[N,Z]=(0,s.useState)(),[B,E]=(0,s.useState)(!1),R=(0,s.useRef)(null);(0,b.t)(R,()=>E(!1));let M=n=>{y(n)},{formState:P,register:S,handleSubmit:V,control:G}=(0,c.cI)({mode:"onBlur",resolver:(0,p.X)(h.p)}),{errors:H}=P,{isLoading:O,setIsLoading:q}=(0,a.d$)(),F=(0,m.useRouter)(),{pathname:W,asPath:A,query:T,locale:U}=F,z=n=>{q(!0),g.e.signInUser(n).then(n=>{var e;v.g.setUserToken(null==n?void 0:null===(e=n.data)||void 0===e?void 0:e.token),g.e.getCurrentUser().then(n=>{"admin"===n.data.data.role.slug?window.location.href="".concat("kk"===U?"/kk":"","/admin"):window.location.href="".concat("kk"===U?"/kk":"","/profile")})}).catch(n=>{console.log(n),Z(n.response.data.message),(0,d.Vw)(n.message)}).finally(q(!1))},X=(n,e)=>{e.preventDefault(),F.push({pathname:W,query:T},A,{locale:n})};return(0,i.jsx)("div",{className:"login__wrapper--bg",children:(0,i.jsxs)("div",{className:"login__wrapper",children:[(0,i.jsxs)("div",{className:"login__wrapper_top",children:[(0,i.jsx)("img",{className:"logo-img",src:"/assets/images/logo.svg",alt:"logo"}),(0,i.jsxs)("div",{className:"sidemenu-user__dropdown",children:[(0,i.jsxs)("div",{className:"sidemenu-user__dropdown--main main__header--lang ".concat(B?"lang--open":""),onClick:()=>E(!0),children:[k("ru"===w.language?"rus_lang":"kaz_lang"),(0,i.jsx)(L.Z,{})]}),(0,i.jsxs)("div",{ref:R,className:"sidemenu-user__dropdown--hiden header--lang__items ".concat(B?"active":""),children:[(0,i.jsx)("span",{onClick:n=>{X("ru",n)},className:"ru"===w.language?"active":"",children:k("rus_lang")}),(0,i.jsx)("span",{onClick:n=>{X("kk",n)},className:"kk"===w.language?"active":"",children:k("kaz_lang")})]})]})]}),(0,i.jsx)("h1",{children:k("autorization")}),(0,i.jsxs)("form",{onSubmit:V(z),children:[(0,i.jsxs)(l.Z,{children:[(0,i.jsx)(u.Z,{iconLeft:(0,i.jsx)(x.Z,{}),iconBg:!0,type:"number",rounded:!0,placeholder:"".concat(k("iin")),onInput:()=>Z(""),register:{...S("iin")}}),(0,i.jsx)(_.Z,{children:(null==H?void 0:null===(n=H.iin)||void 0===n?void 0:n.message)&&k("".concat(null==H?void 0:null===(e=H.iin)||void 0===e?void 0:e.message))})]}),(0,i.jsxs)(l.Z,{children:[(0,i.jsx)(u.Z,{type:I,changeType:M,rounded:!0,iconBg:!0,iconLeft:(0,i.jsx)(f,{}),onInput:()=>Z(""),placeholder:"".concat(k("pass")),register:{...S("password")}}),(0,i.jsx)(_.Z,{children:(null===(t=H.password)||void 0===t?void 0:t.message)&&k("".concat(null===(o=H.password)||void 0===o?void 0:o.message))})]}),N&&(0,i.jsx)("div",{style:{textAlign:"center",marginBottom:10},children:(0,i.jsx)(_.Z,{children:N&&k("".concat(N))})}),(0,i.jsxs)("div",{className:"login__registration",children:[(0,i.jsx)("button",{type:"submit",className:"c-btn c-btn-accent",children:k("in")}),(0,i.jsx)("div",{className:"d-flex",children:(0,i.jsx)(C,{control:G,label:"".concat(k("save_in")),register:{...S("remember")}})}),(0,i.jsx)(r(),{href:"/login/forget",children:(0,i.jsx)("button",{className:"c-btn",style:{color:"#f69f34"},children:k("forgot_pass")})})]})]}),(0,i.jsxs)("div",{className:"login__separator",children:[(0,i.jsx)("span",{}),(0,i.jsx)("p",{children:k("or")}),(0,i.jsx)("span",{})]}),(0,i.jsx)("div",{className:"login__registration",children:(0,i.jsx)(r(),{href:"/login/ecp",children:(0,i.jsx)("button",{className:"c-btn c-btn-primary",children:k("login_ecp")})})})]})})};var y=t(8580);let N=()=>{let[n,e]=(0,s.useState)(!1),{t}=(0,j.$G)(),{userInfo:o,updateUserInfo:r}=(0,y.E)(),c=(0,m.useRouter)();return((0,s.useEffect)(()=>{o&&c.push("/profile")},[o]),(0,s.useEffect)(()=>{e(!0)},[]),n)?(0,i.jsx)(I,{}):null};var Z=!0,B=N},7267:function(n){n.exports={error:"styles_error__BdAxH"}},9942:function(n){n.exports={input:"styles_input__AW_84",inputGroup:"styles_inputGroup__TYf_H",inputGroupLeft:"styles_inputGroupLeft__vbmXO",input_underline:"styles_input_underline__kLdvL",input_rounded:"styles_input_rounded__njwsm",input_checkbox:"styles_input_checkbox__q7Z6i",inputIcon:"styles_inputIcon__qK_U4",inputIconBg:"styles_inputIconBg__Vw9qH",inputIconRight:"styles_inputIconRight__aNcoe",inputIconLeft:"styles_inputIconLeft___u8Fj","input-icon":"styles_input-icon__0PfDY",iconRightPass:"styles_iconRightPass__F5zIs"}}},function(n){n.O(0,[877,842,334,774,888,179],function(){return n(n.s=3700)}),_N_E=n.O()}]);